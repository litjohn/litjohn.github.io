<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>和角公式证明 | 正确即是废话，废话亦是正确</title><meta name=keywords content="math"><meta name=description content="从上一篇文章 https://www.luogu.com.cn/article/a0rd1bxx 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。
那么，记 $R_\theta$ 是旋转 $\theta$ 对应的矩阵。
设旋转 $\alpha$ 的变换 $f_\alpha (P) = R_\alpha P$，以及相应的旋转 $\beta$ 角的变换 $f_\beta (P) = R_\beta P$。
显然有旋转 $\alpha + \beta$ 角等于先转 $\alpha$ 再转 $\beta$，也就是说 $f_{\alpha+\beta}(P) = f_\alpha(f_\beta(P))$ 恒成立。那么，代入函数的定义：
$R_{\alpha+\beta}P = R_\alpha (R_\beta P)$
用结合律，就有
$R_{\alpha+\beta}P = (R_\alpha R_\beta) P$
既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有
$R_{\alpha+\beta} = R_\alpha R_\beta$
这样，由于我们知道 $R_{\alpha+\beta}$ 中包含 $\sin (\alpha+\beta)$ 和 $\cos (\alpha+\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\alpha+\beta}$，然后从中取出相应的项。
计算过程如下：
$R_{\alpha+\beta} = R_\alpha R_\beta = \begin{pmatrix} \cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha \end{pmatrix} \begin{pmatrix} \cos\beta & -\sin\beta \\ \sin\beta & \cos\beta \end{pmatrix}$"><meta name=author content><link rel=canonical href=https://litjohn.github.io/posts/proof-of-the-sum-and-difference-formula/><link crossorigin=anonymous href=/assets/css/stylesheet.1fccae46ae9915f85f681da64c88b7bcb057c57a3f5200705675aedb46bd453d.css integrity="sha256-H8yuRq6ZFfhfaB2mTIi3vLBXxXo/UgBwVnWu20a9RT0=" rel="preload stylesheet" as=style><link rel=icon href=https://litjohn.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://litjohn.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://litjohn.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://litjohn.github.io/apple-touch-icon.png><link rel=mask-icon href=https://litjohn.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://litjohn.github.io/posts/proof-of-the-sum-and-difference-formula/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css integrity=sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js integrity=sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://litjohn.github.io/posts/proof-of-the-sum-and-difference-formula/"><meta property="og:site_name" content="正确即是废话，废话亦是正确"><meta property="og:title" content="和角公式证明"><meta property="og:description" content="从上一篇文章 https://www.luogu.com.cn/article/a0rd1bxx 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。
那么，记 $R_\theta$ 是旋转 $\theta$ 对应的矩阵。
设旋转 $\alpha$ 的变换 $f_\alpha (P) = R_\alpha P$，以及相应的旋转 $\beta$ 角的变换 $f_\beta (P) = R_\beta P$。
显然有旋转 $\alpha + \beta$ 角等于先转 $\alpha$ 再转 $\beta$，也就是说 $f_{\alpha+\beta}(P) = f_\alpha(f_\beta(P))$ 恒成立。那么，代入函数的定义：
$R_{\alpha+\beta}P = R_\alpha (R_\beta P)$
用结合律，就有
$R_{\alpha+\beta}P = (R_\alpha R_\beta) P$
既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有
$R_{\alpha+\beta} = R_\alpha R_\beta$
这样，由于我们知道 $R_{\alpha+\beta}$ 中包含 $\sin (\alpha+\beta)$ 和 $\cos (\alpha+\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\alpha+\beta}$，然后从中取出相应的项。
计算过程如下：
$R_{\alpha+\beta} = R_\alpha R_\beta = \begin{pmatrix} \cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha \end{pmatrix} \begin{pmatrix} \cos\beta & -\sin\beta \\ \sin\beta & \cos\beta \end{pmatrix}$"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-21T21:08:07+08:00"><meta property="article:modified_time" content="2025-10-21T21:08:07+08:00"><meta property="article:tag" content="Math"><meta name=twitter:card content="summary"><meta name=twitter:title content="和角公式证明"><meta name=twitter:description content="从上一篇文章 https://www.luogu.com.cn/article/a0rd1bxx 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。
那么，记 $R_\theta$ 是旋转 $\theta$ 对应的矩阵。
设旋转 $\alpha$ 的变换 $f_\alpha (P) = R_\alpha P$，以及相应的旋转 $\beta$ 角的变换 $f_\beta (P) = R_\beta P$。
显然有旋转 $\alpha + \beta$ 角等于先转 $\alpha$ 再转 $\beta$，也就是说 $f_{\alpha+\beta}(P) = f_\alpha(f_\beta(P))$ 恒成立。那么，代入函数的定义：
$R_{\alpha+\beta}P = R_\alpha (R_\beta P)$
用结合律，就有
$R_{\alpha+\beta}P = (R_\alpha R_\beta) P$
既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有
$R_{\alpha+\beta} = R_\alpha R_\beta$
这样，由于我们知道 $R_{\alpha+\beta}$ 中包含 $\sin (\alpha+\beta)$ 和 $\cos (\alpha+\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\alpha+\beta}$，然后从中取出相应的项。
计算过程如下：
$R_{\alpha+\beta} = R_\alpha R_\beta = \begin{pmatrix} \cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha \end{pmatrix} \begin{pmatrix} \cos\beta & -\sin\beta \\ \sin\beta & \cos\beta \end{pmatrix}$"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://litjohn.github.io/posts/"},{"@type":"ListItem","position":2,"name":"和角公式证明","item":"https://litjohn.github.io/posts/proof-of-the-sum-and-difference-formula/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"和角公式证明","name":"和角公式证明","description":"从上一篇文章 https://www.luogu.com.cn/article/a0rd1bxx 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。\n那么，记 $R_\\theta$ 是旋转 $\\theta$ 对应的矩阵。\n设旋转 $\\alpha$ 的变换 $f_\\alpha (P) = R_\\alpha P$，以及相应的旋转 $\\beta$ 角的变换 $f_\\beta (P) = R_\\beta P$。\n显然有旋转 $\\alpha + \\beta$ 角等于先转 $\\alpha$ 再转 $\\beta$，也就是说 $f_{\\alpha+\\beta}(P) = f_\\alpha(f_\\beta(P))$ 恒成立。那么，代入函数的定义：\n$R_{\\alpha+\\beta}P = R_\\alpha (R_\\beta P)$\n用结合律，就有\n$R_{\\alpha+\\beta}P = (R_\\alpha R_\\beta) P$\n既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有\n$R_{\\alpha+\\beta} = R_\\alpha R_\\beta$\n这样，由于我们知道 $R_{\\alpha+\\beta}$ 中包含 $\\sin (\\alpha+\\beta)$ 和 $\\cos (\\alpha+\\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\\alpha+\\beta}$，然后从中取出相应的项。\n计算过程如下：\n$R_{\\alpha+\\beta} = R_\\alpha R_\\beta = \\begin{pmatrix} \\cos\\alpha \u0026amp; -\\sin\\alpha \\\\ \\sin\\alpha \u0026amp; \\cos\\alpha \\end{pmatrix} \\begin{pmatrix} \\cos\\beta \u0026amp; -\\sin\\beta \\\\ \\sin\\beta \u0026amp; \\cos\\beta \\end{pmatrix}$\n","keywords":["math"],"articleBody":"从上一篇文章 https://www.luogu.com.cn/article/a0rd1bxx 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。\n那么，记 $R_\\theta$ 是旋转 $\\theta$ 对应的矩阵。\n设旋转 $\\alpha$ 的变换 $f_\\alpha (P) = R_\\alpha P$，以及相应的旋转 $\\beta$ 角的变换 $f_\\beta (P) = R_\\beta P$。\n显然有旋转 $\\alpha + \\beta$ 角等于先转 $\\alpha$ 再转 $\\beta$，也就是说 $f_{\\alpha+\\beta}(P) = f_\\alpha(f_\\beta(P))$ 恒成立。那么，代入函数的定义：\n$R_{\\alpha+\\beta}P = R_\\alpha (R_\\beta P)$\n用结合律，就有\n$R_{\\alpha+\\beta}P = (R_\\alpha R_\\beta) P$\n既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有\n$R_{\\alpha+\\beta} = R_\\alpha R_\\beta$\n这样，由于我们知道 $R_{\\alpha+\\beta}$ 中包含 $\\sin (\\alpha+\\beta)$ 和 $\\cos (\\alpha+\\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\\alpha+\\beta}$，然后从中取出相应的项。\n计算过程如下：\n$R_{\\alpha+\\beta} = R_\\alpha R_\\beta = \\begin{pmatrix} \\cos\\alpha \u0026 -\\sin\\alpha \\\\ \\sin\\alpha \u0026 \\cos\\alpha \\end{pmatrix} \\begin{pmatrix} \\cos\\beta \u0026 -\\sin\\beta \\\\ \\sin\\beta \u0026 \\cos\\beta \\end{pmatrix}$\n根据矩阵乘法法则（第一行乘以第一列，第一行乘以第二列……）： $R_\\alpha R_\\beta = \\begin{pmatrix} \\cos\\alpha\\cos\\beta - \\sin\\alpha\\sin\\beta \u0026 -\\cos\\alpha\\sin\\beta - \\sin\\alpha\\cos\\beta \\\\ \\sin\\alpha\\cos\\beta + \\cos\\alpha\\sin\\beta \u0026 -\\sin\\alpha\\sin\\beta + \\cos\\alpha\\cos\\beta \\end{pmatrix}$\n整理一下： $R_\\alpha R_\\beta = \\begin{pmatrix} \\cos\\alpha\\cos\\beta - \\sin\\alpha\\sin\\beta \u0026 -(\\sin\\alpha\\cos\\beta + \\cos\\alpha\\sin\\beta) \\\\ \\sin\\alpha\\cos\\beta + \\cos\\alpha\\sin\\beta \u0026 \\cos\\alpha\\cos\\beta - \\sin\\alpha\\sin\\beta \\end{pmatrix}$\n因为 $R_{\\alpha+\\beta} = R_\\alpha R_\\beta$，所以两个矩阵的对应元素必须相等。我们来比较一下左上角和左下角的元素：\n$\\cos(\\alpha+\\beta) = \\cos\\alpha\\cos\\beta - \\sin\\alpha\\sin\\beta$ $\\sin(\\alpha+\\beta) = \\sin\\alpha\\cos\\beta + \\cos\\alpha\\sin\\beta$ 发现了吗？这样得到的结果与和角公式是相同的，于是我们就证明了和角公式。\n笑点解析：本文使用了循环论证的手法。\n当然，本文也可以不仅仅是循环论证。我们考虑用比和角公式更基本的方法找出旋转矩阵，这样我们的证明就是成立的了。\n这是最纯粹的几何方法。我们不预设任何三角函数知识，而是从旋转这个变换本身的性质出发。\n定义旋转：我们定义一个逆时针旋转 $\\theta$ 角的变换 $R_\\theta$ 是一个线性变换，它必须满足以下几个几何性质：\n保长度：旋转一个向量，其长度不变。$||R_\\theta \\mathbf{v}|| = ||\\mathbf{v}||$. 保定向：旋转不会把平面“翻转”过来（比如变成镜像）。在线性代数里，这意味着变换矩阵的行列式为 +1。 变换基向量：我们来看看它如何作用于基向量 $\\mathbf{i} = (1, 0)$ 和 $\\mathbf{j} = (0, 1)$。 将 $\\mathbf{i}=(1,0)$ 旋转 $\\theta$ 角，根据单位圆的定义，得到的新向量就是 $(\\cos\\theta, \\sin\\theta)$。注意：这里的 $\\cos\\theta$ 和 $\\sin\\theta$ 仅仅是单位圆上一个点的坐标的记号，我们暂时不知道它们的任何性质（比如和角公式）。 将 $\\mathbf{j}=(0,1)$ 旋转 $\\theta$ 角，得到的新向量是 $(-\\sin\\theta, \\cos\\theta)$。 构造矩阵：线性变换的矩阵，其第一列就是变换后的 $\\mathbf{i}$，第二列就是变换后的 $\\mathbf{j}$。所以，我们直接得到了旋转矩阵： $R_\\theta = \\begin{pmatrix} \\cos\\theta \u0026 -\\sin\\theta \\\\ \\sin\\theta \u0026 \\cos\\theta \\end{pmatrix}$\n这个矩阵的推导过程完全没有使用和角公式。它仅仅是基于“旋转”这个变换作用在基向量上的几何结果。\n这说明了，旋转的几何性质和代数性质是相同的。我们可以选择几何方法或者代数方法定义它，然后推导出它的全部性质，不会有什么差别。\n然而，你可以发现，我们的文章仍然存在诸多漏洞。\n我们假设了旋转是一种线性变换。这是一个先验知识，其实问题不大，毕竟我们总是需要一些公理。\n然而，在使用了这个先验知识之后，我们又诉诸了几何直觉：两个基向量旋转的结果，与“单位圆上与原点连线和 x 轴成一定夹角的点的坐标”有关，这本质上已经诉诸了几何直觉，这就要求我们证明几何直觉和“线性变换”之间是自洽的。\n更严重的是，我们假设“旋转 a+b，等价于旋转 a 再旋转 b”，对于一般的线性变换，这是不成立的（“旋转 a+b”对于一般的线性变换根本不知道你在说什么）。而这一条里面很可能已经蕴含了和角公式。\n能不能救呢？可以的。\n疑虑一：几何直觉与“线性变换”公理的自洽性\n线性变换的定义是：$T(a\\mathbf{u} + b\\mathbf{v}) = aT(\\mathbf{u}) + bT(\\mathbf{v})$。 我们可以把它拆成两步来验证我们对“旋转”的几何直觉：\n$T(\\mathbf{u} + \\mathbf{v}) = T(\\mathbf{u}) + T(\\mathbf{v})$（可加性） 几何直觉：向量加法 $\\mathbf{u} + \\mathbf{v}$ 遵循平行四边形法则。$\\mathbf{u}$ 和 $\\mathbf{v}$ 是平行四边形的两条边，$\\mathbf{u} + \\mathbf{v}$ 是对角线。 旋转操作：旋转是一种刚体变换。它会移动和旋转图形，但不会改变图形的形状和大小。 自洽性证明：当我们旋转整个平行四边形时，它仍然是一个平行四边形。原来的边 $\\mathbf{u}$ 和 $\\mathbf{v}$ 变成了旋转后的 $R(\\mathbf{u})$ 和 $R(\\mathbf{v})$。原来的对角线 $\\mathbf{u}+\\mathbf{v}$ 变成了旋转后的 $R(\\mathbf{u}+\\mathbf{v})$。由于旋转后的图形依然是平行四边形，所以它的对角线必然等于两条边的和，即 $R(\\mathbf{u}+\\mathbf{v}) = R(\\mathbf{u}) + R(\\mathbf{v})$。 结论：可加性成立。 这本质上是三角形全等。\n$T(c\\mathbf{u}) = cT(\\mathbf{u})$（齐次性） 几何直觉：向量 $c\\mathbf{u}$ 是将向量 $\\mathbf{u}$ 的长度缩放 $c$ 倍（方向可能相反）。 旋转操作：旋转保持长度不变。 自洽性证明：旋转 $c\\mathbf{u}$ 时，它的方向会改变，但长度仍然是 $\\mathbf{u}$ 的 $c$ 倍。这与先旋转 $\\mathbf{u}$ 得到 $R(\\mathbf{u})$，再将其长度缩放 $c$ 倍得到的结果 $cR(\\mathbf{u})$ 是完全一样的。 结论：齐次性成立。 这和相似则是类似的。\n通过这个论证，我们证明了我们脑海中那个直观的、刚性的“旋转”概念，内生地满足线性变换的代数定义。所以，将“旋转是线性变换”作为起点是合理且自洽的。\n疑虑二：“旋转 $\\alpha+\\beta$ = 先转 $\\alpha$ 再转 $\\beta$” 这一条里面很可能已经蕴含了和角公式\n这是更致命、也更深刻的一个问题。\n这个性质 $R_{\\alpha+\\beta} = R_\\alpha R_\\beta$ 实际上是在描述旋转变换构成了一个阿贝尔群（交换群），并且这个群的结构与实数的加法群是同构的。这确实是一个非常强的性质。\n那么，这个性质本身是否依赖于和角公式呢？\n答案是：不依赖，如果我们小心地定义我们的术语。\n这里的关键在于我们如何定义“角度”和“角度的加法”。\n操作主义定义：让我们把旋转操作本身视为最基本的东西。 有一个操作叫“旋转”，它由一个参数（我们称之为“角度”）来标识，记作 $R_\\theta$。 我们观察到，连续进行两次旋转操作 $R_\\beta$ 和 $R_\\alpha$（即复合函数 $R_\\alpha \\circ R_\\beta$），其结果也是一个旋转操作。 我们定义“角度的加法”为：如果 $R_\\alpha \\circ R_\\beta$ 的结果是 $R_\\gamma$，那么我们就定义 $\\gamma = \\alpha + \\beta$。 看到这里的精妙之处了吗？我们不是先有了角度的加法，然后去证明旋转复合满足这个关系。我们是反过来，用旋转的复合操作来定义角度应该如何相加。\n在这种视角下，等式 $R_{\\alpha+\\beta} = R_\\alpha R_\\beta$（这里矩阵乘法代表函数复合）就不是一个需要证明的定理，而是一个定义式，它定义了下标“+”的含义。\n所以，我们的证明可以被拯救，并变得更加严谨：\n严谨化后的证明逻辑链 公理1（几何）：我们接受一个几何实体叫“旋转”，它是一种刚体运动，保持原点不动。 定理1（线性）：从公理1，我们证明了旋转是一种线性变换（如上文所述）。 推论1（矩阵）：因为旋转是线性变换，所以它可以表示为一个矩阵。通过考察基向量的变换，我们得到 $R_\\theta = \\begin{pmatrix} \\cos\\theta \u0026 -\\sin\\theta \\\\ \\sin\\theta \u0026 \\cos\\theta \\end{pmatrix}$。在这里，$\\cos\\theta$ 和 $\\sin\\theta$ 仅仅是单位圆上点的坐标的记号，我们对它们的函数性质一无所知。 公理2（群结构）：旋转的集合在函数复合下构成一个群。任意两个旋转的复合仍然是一个旋转。 定义1（角度加法）：我们定义角度的加法 $\\alpha+\\beta$ 是这样一个角度 $\\gamma$，它使得 $R_\\gamma = R_\\alpha \\circ R_\\beta$。因此，关系式 $R_{\\alpha+\\beta} = R_\\alpha R_\\beta$ 成为我们体系内的真理（根据定义）。 最终推导：现在，我们将来自推论1的矩阵形式代入到来自定义1的关系式中： $\\begin{pmatrix} \\cos(\\alpha+\\beta) \u0026 \\dots \\\\ \\sin(\\alpha+\\beta) \u0026 \\dots \\end{pmatrix} = \\begin{pmatrix} \\cos\\alpha \u0026 \\dots \\\\ \\sin\\alpha \u0026 \\dots \\end{pmatrix} \\begin{pmatrix} \\cos\\beta \u0026 \\dots \\\\ \\sin\\beta \u0026 \\dots \\end{pmatrix}$ 结论：通过计算右侧的矩阵乘积，我们就发现了 $\\cos(\\alpha+\\beta)$ 和 $\\sin(\\alpha+\\beta)$ 必须满足的代数恒等式。这些恒等式就是我们所说的“和角公式”。 致谢 \u0026\u0026 声明：感谢 Gemini 对本文做出的贡献。Gemini 提供了避免循环论证的思路。\n","wordCount":"406","inLanguage":"en","datePublished":"2025-10-21T21:08:07+08:00","dateModified":"2025-10-21T21:08:07+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://litjohn.github.io/posts/proof-of-the-sum-and-difference-formula/"},"publisher":{"@type":"Organization","name":"正确即是废话，废话亦是正确","logo":{"@type":"ImageObject","url":"https://litjohn.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://litjohn.github.io/ accesskey=h title="正确即是废话，废话亦是正确 (Alt + H)">正确即是废话，废话亦是正确</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://litjohn.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://litjohn.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://litjohn.github.io/series/ title=系列><span>系列</span></a></li><li><a href=https://litjohn.github.io/archives/ title=归档><span>归档</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">和角公式证明</h1><div class=post-meta><span title='2025-10-21 21:08:07 +0800 +0800'>October 21, 2025</span></div></header><div class=post-content><p>从上一篇文章 <a href=https://www.luogu.com.cn/article/a0rd1bxx>https://www.luogu.com.cn/article/a0rd1bxx</a> 的线性代数大学习中，我们知道旋转可以视为乘以一个矩阵。</p><p>那么，记 $R_\theta$ 是旋转 $\theta$ 对应的矩阵。</p><p>设旋转 $\alpha$ 的变换 $f_\alpha (P) = R_\alpha P$，以及相应的旋转 $\beta$ 角的变换 $f_\beta (P) = R_\beta P$。</p><p>显然有旋转 $\alpha + \beta$ 角等于先转 $\alpha$ 再转 $\beta$，也就是说 $f_{\alpha+\beta}(P) = f_\alpha(f_\beta(P))$ 恒成立。那么，代入函数的定义：</p><p>$R_{\alpha+\beta}P = R_\alpha (R_\beta P)$</p><p>用结合律，就有</p><p>$R_{\alpha+\beta}P = (R_\alpha R_\beta) P$</p><p>既然对任意向量两个矩阵的变换结果相同，那么它们肯定是相同的。有</p><p>$R_{\alpha+\beta} = R_\alpha R_\beta$</p><p>这样，由于我们知道 $R_{\alpha+\beta}$ 中包含 $\sin (\alpha+\beta)$ 和 $\cos (\alpha+\beta)$ 项，我们就可以用矩阵乘法算出来 $R_{\alpha+\beta}$，然后从中取出相应的项。</p><p>计算过程如下：</p><p>$R_{\alpha+\beta} = R_\alpha R_\beta = \begin{pmatrix} \cos\alpha & -\sin\alpha \\ \sin\alpha & \cos\alpha \end{pmatrix} \begin{pmatrix} \cos\beta & -\sin\beta \\ \sin\beta & \cos\beta \end{pmatrix}$</p><p>根据矩阵乘法法则（第一行乘以第一列，第一行乘以第二列……）：
$R_\alpha R_\beta = \begin{pmatrix} \cos\alpha\cos\beta - \sin\alpha\sin\beta & -\cos\alpha\sin\beta - \sin\alpha\cos\beta \\ \sin\alpha\cos\beta + \cos\alpha\sin\beta & -\sin\alpha\sin\beta + \cos\alpha\cos\beta \end{pmatrix}$</p><p>整理一下：
$R_\alpha R_\beta = \begin{pmatrix} \cos\alpha\cos\beta - \sin\alpha\sin\beta & -(\sin\alpha\cos\beta + \cos\alpha\sin\beta) \\ \sin\alpha\cos\beta + \cos\alpha\sin\beta & \cos\alpha\cos\beta - \sin\alpha\sin\beta \end{pmatrix}$</p><p>因为 $R_{\alpha+\beta} = R_\alpha R_\beta$，所以两个矩阵的对应元素必须相等。我们来比较一下左上角和左下角的元素：</p><ul><li>$\cos(\alpha+\beta) = \cos\alpha\cos\beta - \sin\alpha\sin\beta$</li><li>$\sin(\alpha+\beta) = \sin\alpha\cos\beta + \cos\alpha\sin\beta$</li></ul><p>发现了吗？这样得到的结果与和角公式是相同的，于是我们就证明了和角公式。</p><p>笑点解析：本文使用了循环论证的手法。</p><hr><p>当然，本文也可以不仅仅是循环论证。我们考虑用比和角公式更基本的方法找出旋转矩阵，这样我们的证明就是成立的了。</p><p>这是最纯粹的几何方法。我们不预设任何三角函数知识，而是从旋转这个变换本身的性质出发。</p><ol><li><p><strong>定义旋转</strong>：我们定义一个逆时针旋转 $\theta$ 角的变换 $R_\theta$ 是一个<strong>线性变换</strong>，它必须满足以下几个几何性质：</p><ul><li><strong>保长度</strong>：旋转一个向量，其长度不变。$||R_\theta \mathbf{v}|| = ||\mathbf{v}||$.</li><li><strong>保定向</strong>：旋转不会把平面“翻转”过来（比如变成镜像）。在线性代数里，这意味着变换矩阵的行列式为 +1。</li><li><strong>变换基向量</strong>：我们来看看它如何作用于基向量 $\mathbf{i} = (1, 0)$ 和 $\mathbf{j} = (0, 1)$。<ul><li>将 $\mathbf{i}=(1,0)$ 旋转 $\theta$ 角，根据单位圆的定义，得到的新向量就是 $(\cos\theta, \sin\theta)$。<strong>注意：这里的 $\cos\theta$ 和 $\sin\theta$ 仅仅是单位圆上一个点的坐标的记号，我们暂时不知道它们的任何性质（比如和角公式）。</strong></li><li>将 $\mathbf{j}=(0,1)$ 旋转 $\theta$ 角，得到的新向量是 $(-\sin\theta, \cos\theta)$。</li></ul></li></ul></li><li><p><strong>构造矩阵</strong>：线性变换的矩阵，其第一列就是变换后的 $\mathbf{i}$，第二列就是变换后的 $\mathbf{j}$。所以，我们直接得到了旋转矩阵：
$R_\theta = \begin{pmatrix} \cos\theta & -\sin\theta \\ \sin\theta & \cos\theta \end{pmatrix}$</p><p>这个矩阵的推导过程<strong>完全没有使用和角公式</strong>。它仅仅是基于“旋转”这个变换作用在基向量上的几何结果。</p></li></ol><p>这说明了，旋转的几何性质和代数性质是相同的。我们可以选择几何方法或者代数方法定义它，然后推导出它的全部性质，不会有什么差别。</p><hr><p>然而，你可以发现，我们的文章仍然存在诸多漏洞。</p><p>我们假设了旋转是一种线性变换。这是一个先验知识，其实问题不大，毕竟我们总是需要一些公理。</p><p>然而，在使用了这个先验知识之后，我们又诉诸了几何直觉：两个基向量旋转的结果，与“单位圆上与原点连线和 x 轴成一定夹角的点的坐标”有关，这本质上已经诉诸了几何直觉，这就要求我们证明几何直觉和“线性变换”之间是自洽的。</p><p>更严重的是，我们假设“旋转 a+b，等价于旋转 a 再旋转 b”，对于一般的线性变换，这是不成立的（“旋转 a+b”对于一般的线性变换根本不知道你在说什么）。而这一条里面很可能已经蕴含了和角公式。</p><p>能不能救呢？可以的。</p><hr><p><strong>疑虑一：几何直觉与“线性变换”公理的自洽性</strong></p><p>线性变换的定义是：$T(a\mathbf{u} + b\mathbf{v}) = aT(\mathbf{u}) + bT(\mathbf{v})$。
我们可以把它拆成两步来验证我们对“旋转”的几何直觉：</p><ol><li><strong>$T(\mathbf{u} + \mathbf{v}) = T(\mathbf{u}) + T(\mathbf{v})$（可加性）</strong><ul><li><strong>几何直觉</strong>：向量加法 $\mathbf{u} + \mathbf{v}$ 遵循平行四边形法则。$\mathbf{u}$ 和 $\mathbf{v}$ 是平行四边形的两条边，$\mathbf{u} + \mathbf{v}$ 是对角线。</li><li><strong>旋转操作</strong>：旋转是一种<strong>刚体变换</strong>。它会移动和旋转图形，但不会改变图形的形状和大小。</li><li><strong>自洽性证明</strong>：当我们旋转整个平行四边形时，它仍然是一个平行四边形。原来的边 $\mathbf{u}$ 和 $\mathbf{v}$ 变成了旋转后的 $R(\mathbf{u})$ 和 $R(\mathbf{v})$。原来的对角线 $\mathbf{u}+\mathbf{v}$ 变成了旋转后的 $R(\mathbf{u}+\mathbf{v})$。由于旋转后的图形依然是平行四边形，所以它的对角线必然等于两条边的和，即 $R(\mathbf{u}+\mathbf{v}) = R(\mathbf{u}) + R(\mathbf{v})$。</li><li><strong>结论</strong>：可加性成立。</li></ul></li></ol><p>这本质上是三角形全等。</p><ol start=2><li><strong>$T(c\mathbf{u}) = cT(\mathbf{u})$（齐次性）</strong><ul><li><strong>几何直觉</strong>：向量 $c\mathbf{u}$ 是将向量 $\mathbf{u}$ 的长度缩放 $c$ 倍（方向可能相反）。</li><li><strong>旋转操作</strong>：旋转保持长度不变。</li><li><strong>自洽性证明</strong>：旋转 $c\mathbf{u}$ 时，它的方向会改变，但长度仍然是 $\mathbf{u}$ 的 $c$ 倍。这与先旋转 $\mathbf{u}$ 得到 $R(\mathbf{u})$，再将其长度缩放 $c$ 倍得到的结果 $cR(\mathbf{u})$ 是完全一样的。</li><li><strong>结论</strong>：齐次性成立。</li></ul></li></ol><p>这和相似则是类似的。</p><p>通过这个论证，我们证明了我们脑海中那个直观的、刚性的“旋转”概念，<strong>内生地</strong>满足线性变换的代数定义。所以，将“旋转是线性变换”作为起点是合理且自洽的。</p><p><strong>疑虑二：“旋转 $\alpha+\beta$ = 先转 $\alpha$ 再转 $\beta$” 这一条里面很可能已经蕴含了和角公式</strong></p><p>这是更致命、也更深刻的一个问题。</p><p>这个性质 $R_{\alpha+\beta} = R_\alpha R_\beta$ 实际上是在描述旋转变换构成了一个<strong>阿贝尔群（交换群）</strong>，并且这个群的结构与实数的加法群是<strong>同构</strong>的。这确实是一个非常强的性质。</p><p>那么，这个性质本身是否依赖于和角公式呢？</p><p>答案是：<strong>不依赖，如果我们小心地定义我们的术语。</strong></p><p>这里的关键在于我们如何定义“角度”和“角度的加法”。</p><ol><li><strong>操作主义定义</strong>：让我们把旋转操作本身视为最基本的东西。<ul><li>有一个操作叫“旋转”，它由一个参数（我们称之为“角度”）来标识，记作 $R_\theta$。</li><li>我们观察到，连续进行两次旋转操作 $R_\beta$ 和 $R_\alpha$（即复合函数 $R_\alpha \circ R_\beta$），其结果<strong>也是一个旋转操作</strong>。</li><li>我们<strong>定义</strong>“角度的加法”为：如果 $R_\alpha \circ R_\beta$ 的结果是 $R_\gamma$，那么我们就<strong>定义</strong> $\gamma = \alpha + \beta$。</li></ul></li></ol><p>看到这里的精妙之处了吗？我们<strong>不是</strong>先有了角度的加法，然后去证明旋转复合满足这个关系。我们是<strong>反过来</strong>，用旋转的复合操作来<strong>定义</strong>角度应该如何相加。</p><p>在这种视角下，等式 $R_{\alpha+\beta} = R_\alpha R_\beta$（这里矩阵乘法代表函数复合）就不是一个需要证明的定理，而是一个<strong>定义式</strong>，它定义了下标“+”的含义。</p><p><strong>所以，我们的证明可以被拯救，并变得更加严谨：</strong></p><h4 id=严谨化后的证明逻辑链>严谨化后的证明逻辑链<a hidden class=anchor aria-hidden=true href=#严谨化后的证明逻辑链>#</a></h4><ol><li><strong>公理1（几何）</strong>：我们接受一个几何实体叫“旋转”，它是一种刚体运动，保持原点不动。</li><li><strong>定理1（线性）</strong>：从公理1，我们证明了旋转是一种线性变换（如上文所述）。</li><li><strong>推论1（矩阵）</strong>：因为旋转是线性变换，所以它可以表示为一个矩阵。通过考察基向量的变换，我们得到 $R_\theta = \begin{pmatrix} \cos\theta & -\sin\theta \\ \sin\theta & \cos\theta \end{pmatrix}$。在这里，$\cos\theta$ 和 $\sin\theta$ 仅仅是单位圆上点的坐标的<strong>记号</strong>，我们对它们的函数性质一无所知。</li><li><strong>公理2（群结构）</strong>：旋转的集合在函数复合下构成一个群。任意两个旋转的复合仍然是一个旋转。</li><li><strong>定义1（角度加法）</strong>：我们定义角度的加法 $\alpha+\beta$ 是这样一个角度 $\gamma$，它使得 $R_\gamma = R_\alpha \circ R_\beta$。因此，关系式 $R_{\alpha+\beta} = R_\alpha R_\beta$ 成为我们体系内的<strong>真理</strong>（根据定义）。</li><li><strong>最终推导</strong>：现在，我们将来自<strong>推论1</strong>的矩阵形式代入到来自<strong>定义1</strong>的关系式中：
$\begin{pmatrix} \cos(\alpha+\beta) & \dots \\ \sin(\alpha+\beta) & \dots \end{pmatrix} = \begin{pmatrix} \cos\alpha & \dots \\ \sin\alpha & \dots \end{pmatrix} \begin{pmatrix} \cos\beta & \dots \\ \sin\beta & \dots \end{pmatrix}$</li><li><strong>结论</strong>：通过计算右侧的矩阵乘积，我们就<strong>发现</strong>了 $\cos(\alpha+\beta)$ 和 $\sin(\alpha+\beta)$ 必须满足的代数恒等式。这些恒等式就是我们所说的“和角公式”。</li></ol><hr><p>致谢 && 声明：感谢 Gemini 对本文做出的贡献。Gemini 提供了避免循环论证的思路。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://litjohn.github.io/tags/math/>Math</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://litjohn.github.io/>正确即是废话，废话亦是正确</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>